<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gin API | Dashboard do Aluno</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        /* DEFINI√á√ÉO DE VARI√ÅVEIS CSS (Paleta de cores e efeitos) */
        :root {
            --glass-bg: rgba(255, 255, 255, 0.05);
            /* Cor de fundo transl√∫cida para efeito de vidro */
            --glass-border: rgba(255, 255, 255, 0.1);
            /* Cor da borda sutil e semitransparente */
            --glass-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
            /* Sombra difusa para dar profundidade */
            --primary: #00f2fe;
            /* Cor prim√°ria: Azul Ciano Neon */
            --secondary: #4facfe;
            /* Cor secund√°ria: Azul Claro */
            --accent: #ff0055;
            /* Cor de destaque: Rosa/Vermelho Vibrante */
            --text-main: #ffffff;
            /* Cor principal do texto: Branco */
            --text-secondary: #a0a0a0;
            /* Cor secund√°ria do texto: Cinza Claro */
        }

        /* Configura√ß√µes globais do corpo da p√°gina (body) */
        body {
            font-family: 'Outfit', sans-serif;
            /* Define a fonte principal como 'Outfit' */
            background: #0f0c29;
            /* Define uma cor de fundo s√≥lida de fallback */
            background: linear-gradient(to right, #24243e, #302b63, #0f0c29);
            /* Define o gradiente de fundo roxo escuro */
            color: var(--text-main);
            /* Define a cor padr√£o do texto usando a vari√°vel */
            min-height: 100vh;
            /* Garante que o corpo ocupe pelo menos 100% da altura da janela */
            margin: 0;
            /* Remove as margens padr√£o do navegador */
            display: flex;
            /* Habilita o modelo Flexbox para layout */
            justify-content: center;
            /* Centraliza o conte√∫do horizontalmente */
            align-items: center;
            /* Centraliza o conte√∫do verticalmente */
            padding: 2rem;
            /* Adiciona preenchimento interno de 2rem em todos os lados */
            overflow-x: hidden;
            /* Impede a rolagem horizontal caso algo exceda a largura */
        }

        /* ELEMENTOS DE FUNDO (Blobs/Manchas coloridas animadas) */
        .blob {
            position: absolute;
            /* Posicionamento absoluto em rela√ß√£o ao corpo da p√°gina */
            filter: blur(80px);
            /* Aplica um desfoque intenso para suavizar as bordas */
            z-index: -1;
            /* Coloca o elemento atr√°s de todo o conte√∫do principal */
            opacity: 0.6;
            /* Define a opacidade para 60% (semitransparente) */
            animation: move 10s infinite alternate;
            /* Aplica a anima√ß√£o 'move' por 10s em loop */
        }

        /* Estilos espec√≠ficos para a primeira mancha */
        .blob-1 {
            background: var(--secondary);
            /* Usa a cor secund√°ria (azul claro) */
            width: 300px;
            /* Largura de 300px */
            height: 300px;
            /* Altura de 300px */
            top: 10%;
            /* Posiciona a 10% do topo da p√°gina */
            left: 10%;
            /* Posiciona a 10% da esquerda da p√°gina */
            border-radius: 40% 60% 70% 30% / 40% 50% 60% 50%;
            /* Bordas irregulares para forma org√¢nica */
        }

        /* Estilos espec√≠ficos para a segunda mancha */
        .blob-2 {
            background: var(--accent);
            /* Usa a cor de destaque (rosa) */
            width: 250px;
            /* Largura de 250px */
            height: 250px;
            /* Altura de 250px */
            bottom: 10%;
            /* Posiciona a 10% da parte inferior */
            right: 10%;
            /* Posiciona a 10% da direita */
            border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%;
            /* Bordas irregulares diferentes */
            animation-delay: -5s;
            /* Come√ßa a anima√ß√£o com atraso negativo para dessincronizar */
        }

        /* Defini√ß√£o da anima√ß√£o 'move' (flutua√ß√£o) */
        @keyframes move {
            from {
                transform: translate(0, 0) rotate(0deg);
                /* Come√ßa na posi√ß√£o original */
            }

            to {
                transform: translate(20px, 40px) rotate(20deg);
                /* Move e rotaciona levemente */
            }
        }

        /* Container principal que organiza o layout */
        .container {
            width: 100%;
            /* Ocupa 100% da largura dispon√≠vel */
            max-width: 1100px;
            /* Limita a largura m√°xima a 1100px */
            display: grid;
            /* Habilita Grid Layout */
            grid-template-columns: 1fr 1.5fr;
            /* Duas colunas: esquerda (1 parte), direita (1.5 partes) */
            gap: 2rem;
            /* Espa√ßamento de 2rem entre as colunas */
            z-index: 1;
            /* Garante que fique acima do fundo (blobs) */
        }

        /* ESTILO DOS PAIN√âIS DE VIDRO (Glassmorphism) */
        .glass-panel {
            background: var(--glass-bg);
            /* Fundo semitransparente */
            backdrop-filter: blur(12px);
            /* Desfoque do fundo atr√°s do painel */
            -webkit-backdrop-filter: blur(12px);
            /* Suporte para Safari */
            border: 1px solid var(--glass-border);
            /* Borda fina e transl√∫cida */
            border-radius: 24px;
            /* Arredonda os cantos do painel */
            padding: 2.5rem;
            /* Espa√ßamento interno generoso */
            box-shadow: var(--glass-shadow);
            /* Sombra suave para eleva√ß√£o */
        }

        /* T√≠tulos H1 (Principal) */
        h1 {
            font-size: 2.5rem;
            /* Tamanho da fonte grande */
            margin-bottom: 0.5rem;
            /* Margem inferior pequena */
            background: linear-gradient(to right, var(--primary), var(--secondary));
            /* Gradiente no texto */
            -webkit-background-clip: text;
            /* Aplica o fundo apenas na √°rea do texto (Webkit) */
            background-clip: text;
            /* Aplica o fundo apenas na √°rea do texto (Padr√£o) */
            -webkit-text-fill-color: transparent;
            /* Torna a cor do texto transparente para mostrar o fundo */
            font-weight: 700;
            /* Peso da fonte em negrito */
        }

        /* T√≠tulos H2 (Secund√°rios) */
        h2 {
            font-size: 1.5rem;
            /* Tamanho m√©dio */
            margin-bottom: 1.5rem;
            /* Margem inferior para separar do conte√∫do */
            color: var(--text-main);
            /* Cor branca padr√£o */
            display: flex;
            /* Flexbox para alinhar itens internos */
            justify-content: space-between;
            /* Espalha o t√≠tulo e o bot√£o de atualizar */
            align-items: center;
            /* Alinha verticalmente */
        }

        /* Subt√≠tulos */
        .subtitle {
            color: var(--text-secondary);
            /* Cor cinza claro */
            margin-bottom: 2rem;
            /* Espa√ßo abaixo do subt√≠tulo */
            font-weight: 300;
            /* Fonte mais fina (light) */
        }

        /* ESTILOS DO FORMUL√ÅRIO */
        .form-group {
            margin-bottom: 1.5rem;
            /* Espa√ßo entre cada grupo de input */
            position: relative;
            /* Posicionamento relativo para elementos filhos */
        }

        /* R√≥tulos dos campos */
        label {
            display: block;
            /* Ocupa a linha inteira */
            margin-bottom: 0.5rem;
            /* Espa√ßo entre r√≥tulo e input */
            font-size: 0.9rem;
            /* Tamanho de fonte levemente menor */
            color: var(--text-secondary);
            /* Cor cinza */
            margin-left: 0.5rem;
            /* Pequeno recuo √† esquerda */
        }

        /* Campos de entrada (Input e Select) globais */
        input,
        select {
            width: 100%;
            /* Largura total do container */
            padding: 14px 18px;
            /* Preenchimento interno confort√°vel */
            background: rgba(0, 0, 0, 0.2);
            /* Fundo preto semitransparente */
            border: 1px solid var(--glass-border);
            /* Borda sutil */
            border-radius: 12px;
            /* Cantos arredondados */
            color: white;
            /* Texto branco */
            font-family: inherit;
            /* Herda a fonte do corpo */
            font-size: 1rem;
            /* Tamanho da fonte padr√£o */
            transition: all 0.3s ease;
            /* Transi√ß√£o suave para efeitos de hover/focus */
            box-sizing: border-box;
            /* Inclui padding e border no c√°lculo da largura */
        }

        /* Estado de foco nos inputs e selects */
        input:focus,
        select:focus {
            outline: none;
            /* Remove a borda padr√£o do navegador */
            border-color: var(--primary);
            /* Muda a cor da borda para ciano */
            background: rgba(0, 0, 0, 0.4);
            /* Escurece o fundo */
            box-shadow: 0 0 15px rgba(79, 172, 254, 0.2);
            /* Adiciona brilho externo (glow) */
        }

        /* Bot√£o Principal (Cadastrar/Buscar) */
        button.btn-main {
            width: 100%;
            /* Largura total */
            padding: 16px;
            /* Altura confort√°vel */
            background: linear-gradient(135deg, var(--secondary), var(--primary));
            /* Gradiente de fundo */
            border: none;
            /* Remove borda */
            border-radius: 12px;
            /* Cantos arredondados */
            color: #000;
            /* Texto preto para contraste */
            font-weight: 700;
            /* Texto em negrito */
            font-size: 1.1rem;
            /* Tamanho da fonte */
            cursor: pointer;
            /* Muda cursor para m√£ozinha */
            transition: transform 0.2s, box-shadow 0.2s;
            /* Anima√ß√µes suaves */
            margin-top: 1rem;
            /* Espa√ßo acima do bot√£o */
        }

        /* Estado Hover do Bot√£o Principal */
        button.btn-main:hover {
            transform: translateY(-3px);
            /* Move o bot√£o levemente para cima */
            box-shadow: 0 5px 20px rgba(79, 172, 254, 0.4);
            /* Sombra com cor neon */
        }

        /* Bot√£o de Atualizar (√≠cone pequeno) */
        button.btn-refresh {
            background: rgba(255, 255, 255, 0.1);
            /* Fundo sutil */
            border: none;
            /* Sem borda */
            color: white;
            /* √çcone branco */
            padding: 8px 16px;
            /* Tamanho menor */
            border-radius: 20px;
            /* Bordas bem arredondadas (p√≠lula) */
            cursor: pointer;
            /* Cursor de clique */
            font-size: 0.9rem;
            /* Fonte menor */
            transition: background 0.2s;
            /* Transi√ß√£o de fundo */
        }

        /* Hover do Bot√£o Atualizar */
        button.btn-refresh:hover {
            background: rgba(255, 255, 255, 0.2);
            /* Clareia o fundo ao passar o mouse */
        }

        /* Container da Lista de Alunos */
        .list-container {
            max-height: 600px;
            /* Altura m√°xima fixa */
            overflow-y: auto;
            /* Adiciona barra de rolagem se conte√∫do exceder */
            padding-right: 10px;
            /* Espa√ßo para a barra de rolagem n√£o colar no conte√∫do */
        }

        /* Estiliza√ß√£o da Barra de Rolagem (Webkit/Chrome) */
        .list-container::-webkit-scrollbar {
            width: 6px;
            /* Largura fina */
        }

        .list-container::-webkit-scrollbar-thumb {
            background: var(--glass-border);
            /* Cor da barra igual √† borda de vidro */
            border-radius: 3px;
            /* Arredondada */
        }

        /* Card Individual de Aluno */
        .aluno-card {
            background: rgba(255, 255, 255, 0.03);
            /* Fundo muito sutil */
            border: 1px solid var(--glass-border);
            /* Borda fina */
            border-radius: 16px;
            /* Arredondado */
            padding: 1.2rem;
            /* Espa√ßamento interno */
            margin-bottom: 1rem;
            /* Espa√ßo entre cards */
            display: flex;
            /* Flexbox para alinhar avatar e texto */
            align-items: center;
            /* Alinhamento vertical centro */
            transition: all 0.3s;
            /* Transi√ß√£o para hover */
            animation: simpleCheck 0.6s cubic-bezier(0.2, 0.8, 0.2, 1);
            /* Anima√ß√£o de entrada suave */
        }

        /* Hover do Card de Aluno */
        .aluno-card:hover {
            background: rgba(255, 255, 255, 0.08);
            /* Clareia o fundo */
            transform: translateX(5px);
            /* Move levemente para a direita */
            border-color: rgba(255, 255, 255, 0.3);
            /* Borda mais vis√≠vel */
        }

        /* Avatar (C√≠rculo com iniciais) */
        .avatar {
            width: 48px;
            /* Largura fixa */
            height: 48px;
            /* Altura fixa */
            border-radius: 12px;
            /* Quadrado arredondado (squircle) */
            background: linear-gradient(135deg, #FF9A9E 0%, #FECFEF 100%);
            /* Gradiente rosa */
            display: flex;
            /* Flex para centralizar texto */
            align-items: center;
            /* Centro vertical */
            justify-content: center;
            /* Centro horizontal */
            font-weight: bold;
            /* Texto negrito */
            color: #333;
            /* Cor escura para texto nas iniciais */
            margin-right: 1rem;
            /* Espa√ßo √† direita */
            font-size: 1.2rem;
            /* Tamanho da letra */
        }

        /* Informa√ß√µes do Aluno no Card */
        .info h3 {
            margin: 0;
            /* Zera margem */
            font-size: 1.1rem;
            /* Tamanho do nome */
            color: white;
            /* Cor branca */
        }

        .info p {
            margin: 4px 0 0 0;
            /* Pequena margem superior */
            font-size: 0.85rem;
            /* Texto menor para detalhes */
            color: var(--text-secondary);
            /* Cor cinza */
        }

        /* Badge com o ID do Aluno */
        .badge {
            margin-left: auto;
            /* Empurra para o final direito do card */
            background: rgba(79, 172, 254, 0.2);
            /* Fundo azul transl√∫cido */
            color: var(--primary);
            /* Texto azul neon */
            padding: 4px 10px;
            /* Espa√ßamento interno */
            border-radius: 20px;
            /* Formato de p√≠lula */
            font-size: 0.8rem;
            /* Fonte pequena */
            font-weight: 600;
            /* Semi-negrito */
        }

        /* Responsividade para Mobile */
        @media (max-width: 850px) {
            .container {
                grid-template-columns: 1fr;
                /* Muda para uma √∫nica coluna */
            }

            .blob {
                opacity: 0.4;
                /* Reduz a opacidade das manchas para n√£o distrair */
            }
        }

        /* Keyframes da Anima√ß√£o de Entrada dos Cards */
        @keyframes simpleCheck {
            from {
                opacity: 0;
                /* Come√ßa invis√≠vel */
                transform: translateY(10px);
                /* Come√ßa levemente abaixo */
            }

            to {
                opacity: 1;
                /* Termina vis√≠vel */
                transform: translateY(0);
                /* Termina na posi√ß√£o original */
            }
        }
    </style>
</head>

<body>
    <!-- Elementos decorativos de fundo (Manchas/Blobs) -->
    <div class="blob blob-1"></div> <!-- Mancha colorida 1 (Azul) -->
    <div class="blob blob-2"></div> <!-- Mancha colorida 2 (Rosa) -->

    <!-- Container principal que alinha os pain√©is na tela -->
    <div class="container">

        <!-- PAINEL DE FORMUL√ÅRIO (Coluna da Esquerda) -->
        <div class="glass-panel">
            <!-- Cabe√ßalho do Painel -->
            <h1>Gin API</h1> <!-- T√≠tulo principal com gradiente -->
            <p class="subtitle">Gerencie seus alunos com estilo.</p> <!-- Subt√≠tulo descritivo -->

            <!-- Formul√°rio de Cadastro de Alunos -->
            <form id="form-aluno">
                <h2>Novo Cadastro</h2> <!-- T√≠tulo da se√ß√£o de formul√°rio -->

                <!-- Campo: Nome Completo -->
                <div class="form-group">
                    <label for="nome">Nome Completo</label> <!-- R√≥tulo acess√≠vel -->
                    <input type="text" id="nome" placeholder="John Doe" required> <!-- Input de texto obrigat√≥rio -->
                </div>

                <!-- Campo: CPF -->
                <div class="form-group">
                    <label for="cpf">CPF</label> <!-- R√≥tulo -->
                    <input type="text" id="cpf" placeholder="000.000.000-00" maxlength="14" required>
                    <!-- Input com limite de caracteres para m√°scara -->
                </div>

                <!-- Campo: RG -->
                <div class="form-group">
                    <label for="rg">RG</label> <!-- R√≥tulo -->
                    <input type="text" id="rg" placeholder="00.000.000-0" maxlength="12" required>
                    <!-- Input com limite de caracteres -->
                </div>

                <!-- Grid interno para campos menores (Idade e Sexo) lado a lado -->
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">

                    <!-- Campo: Idade -->
                    <div class="form-group">
                        <label for="idade">Idade</label> <!-- R√≥tulo -->
                        <select id="idade" required> <!-- Dropdown de sele√ß√£o obrigat√≥rio -->
                            <option value="" disabled selected>Selecione</option> <!-- Op√ß√£o padr√£o desabilitada -->
                            <!-- As op√ß√µes de 1 a 100 ser√£o preenchidas via JavaScript -->
                        </select>
                    </div>

                    <!-- Campo: Sexo -->
                    <div class="form-group">
                        <label for="sexo">Sexo</label> <!-- R√≥tulo -->
                        <select id="sexo" required> <!-- Dropdown de sele√ß√£o obrigat√≥rio -->
                            <option value="Masculino">Masculino</option> <!-- Op√ß√£o Masculino -->
                            <option value="Feminino">Feminino</option> <!-- Op√ß√£o Feminino -->
                        </select>
                    </div>
                </div>

                <!-- Bot√£o de Envio do Formul√°rio -->
                <button type="submit" class="btn-main">Cadastrar Aluno ‚ú®</button>
            </form>
        </div>

        <!-- PAINEL DE LISTAGEM (Coluna da Direita) -->
        <div class="glass-panel">
            <!-- Cabe√ßalho da Lista com Bot√£o de Atualizar -->
            <h2>
                Lista de Alunos
                <!-- Bot√£o para recarregar a lista manualmente -->
                <button onclick="listarAlunos()" class="btn-refresh">üîÑ Atualizar</button>
            </h2>

            <!-- BARRA DE PESQUISA -->
            <div style="display: flex; gap: 10px; margin-bottom: 20px;">
                <!-- Container flex para alinhar input e bot√£o -->
                <!-- Input de busca por ID num√©rico -->
                <input type="number" id="search-id" placeholder="Buscar por ID..." style="margin-bottom: 0;">

                <!-- Bot√£o de a√ß√£o de busca -->
                <button onclick="buscarAluno()" class="btn-main"
                    style="width: auto; margin-top: 0; white-space: nowrap;">üîç Buscar</button>
            </div>

            <!-- Container onde os cards de alunos ser√£o injetados -->
            <div id="lista-alunos" class="list-container">
                <!-- Conte√∫do inicial de carregamento ou lista vazia -->
                <!-- Os itens reais ser√£o inseridos aqui pela fun√ß√£o listarAlunos() no JavaScript -->
                <p style="text-align: center; margin-top: 2rem; color: rgba(255,255,255,0.3);">Carregando dados...</p>
            </div>
        </div>
    </div>

    <script>
        // Define a URL base da API (backend em Go)
        const API_URL = 'http://localhost:8080/alunos';

        // FUN√á√ÉO DE BUSCA: Procura um aluno espec√≠fico pelo ID
        async function buscarAluno() {
            // Obt√©m o valor digitado no campo de input de busca
            const id = document.getElementById('search-id').value;

            // Valida√ß√£o: Se o campo estiver vazio, exibe alerta e para a execu√ß√£o
            if (!id) return alert("Digite um ID para buscar!");

            try {
                // Faz a requisi√ß√£o HTTP GET para a API passando o ID na URL
                const response = await fetch(`${API_URL}/${id}`);

                // Verifica se o status da resposta √© 404 (N√£o Encontrado)
                if (response.status === 404) {
                    // Exibe a mensagem espec√≠fica solicitada caso o aluno n√£o exista
                    alert("aluno nao cadastrado, por favor verifique o cadastro");
                    return; // Encerra a fun√ß√£o
                }

                // Se a resposta n√£o for OK (200-299) e n√£o for 404, lan√ßa um erro gen√©rico
                if (!response.ok) throw new Error("Erro na busca");

                // Converte a resposta da API (JSON) para um objeto JavaScript
                const aluno = await response.json();

                // Seleciona o container da lista para exibir o resultado
                const listaDiv = document.getElementById('lista-alunos');

                // Extrai as duas primeiras letras do nome para usar como avatar (iniciais)
                const initials = aluno.nome.substring(0, 2).toUpperCase();

                // Sobrescreve o conte√∫do da lista com o card do aluno encontrado
                // Nota: Usa um estilo inline especial para destacar o resultado da busca
                listaDiv.innerHTML = `
                    <div class="aluno-card" style="border-color: var(--primary); background: rgba(0, 242, 254, 0.1);">
                        <div class="avatar">${initials}</div>
                        <div class="info">
                            <h3>${aluno.nome}</h3>
                            <p>${aluno.cpf} ‚Ä¢ ${aluno.idade} anos</p>
                        </div>
                        <span class="badge">#${aluno.ID}</span>
                    </div>
                    <!-- Bot√£o para limpar a busca e voltar a exibir todos os alunos -->
                    <button onclick="listarAlunos()" style="background:none; border:none; color: var(--text-secondary); cursor: pointer; text-decoration: underline; width: 100%; margin-top: 10px;">Voltar para lista completa</button>
                `;

            } catch (error) {
                // Captura erros de rede ou processamento e exibe alerta ao usu√°rio
                alert("Erro ao buscar aluno.");
                console.error(error); // Loga o erro no console para debug
            }
        }

        // SELE√á√ÉO DE ELEMENTOS DE INPUT PARA M√ÅSCARAS
        const cpfInput = document.getElementById('cpf'); // Input do CPF
        const rgInput = document.getElementById('rg');   // Input do RG

        // ADICIONA EVENT LISTENER PARA INPUT DO CPF (M√°scara enquanto digita)
        cpfInput.addEventListener('input', (e) => {
            let value = e.target.value.replace(/\D/g, ''); // Remove tudo que n√£o for d√≠gito
            if (value.length > 11) value = value.slice(0, 11); // Limita a 11 d√≠gitos

            // Aplica a formata√ß√£o 000.000.000-00 usando Regex
            value = value.replace(/(\d{3})(\d)/, '$1.$2'); // Coloca o primeiro ponto
            value = value.replace(/(\d{3})(\d)/, '$1.$2'); // Coloca o segundo ponto
            value = value.replace(/(\d{3})(\d{1,2})$/, '$1-$2'); // Coloca o tra√ßo no final

            // Atualiza o valor do campo com a m√°scara aplicada
            e.target.value = value;
        });

        // ADICIONA EVENT LISTENER PARA INPUT DO RG (M√°scara enquanto digita)
        rgInput.addEventListener('input', (e) => {
            let value = e.target.value.replace(/\D/g, ''); // Remove tudo que n√£o for d√≠gito
            if (value.length > 9) value = value.slice(0, 9); // Limita a 9 d√≠gitos (exemplo padr√£o SP)

            // Aplica a formata√ß√£o 00.000.000-0 usando Regex
            value = value.replace(/(\d{2})(\d)/, '$1.$2'); // Coloca o primeiro ponto
            value = value.replace(/(\d{3})(\d)/, '$1.$2'); // Coloca o segundo ponto
            value = value.replace(/(\d{3})(\d{1})$/, '$1-$2'); // Coloca o tra√ßo no final

            // Atualiza o valor do campo com a m√°scara aplicada
            e.target.value = value;
        });

        // POPULA O SELECT DE IDADE (Gera op√ß√µes de 1 a 100 anos automaticamente)
        const selectIdade = document.getElementById('idade'); // Seleciona o elemento select
        for (let i = 1; i <= 100; i++) {
            const opt = document.createElement('option'); // Cria um novo elemento <option>
            opt.value = i; // Define o valor (ex: 1)
            opt.innerText = i; // Define o texto vis√≠vel (ex: 1)
            selectIdade.appendChild(opt); // Adiciona a op√ß√£o ao select
        }

        // FUN√á√ÉO LISTAR ALUNOS: Busca e renderiza todos os alunos cadastrados
        async function listarAlunos() {
            const listaDiv = document.getElementById('lista-alunos'); // Container da lista
            try {
                // Faz a requisi√ß√£o GET para a raiz /alunos (lista todos)
                const response = await fetch(API_URL);

                // Verifica se a conex√£o falhou
                if (!response.ok) throw new Error('Falha ao conectar');

                // Converte a resposta para lista de objetos
                const alunos = await response.json();

                listaDiv.innerHTML = ''; // Limpa o conte√∫do atual da lista antes de adicionar novos

                // Verifica se a lista retornada est√° vazia
                if (alunos.length === 0) {
                    // Exibe mensagem informativa se n√£o houver registros
                    listaDiv.innerHTML = '<p style="text-align:center; margin-top: 2rem; color: rgba(255,255,255,0.3);">Nenhum aluno cadastrado ainda.</p>';
                    return;
                }

                // Itera sobre cada aluno retornado para criar seu card
                alunos.forEach(aluno => {
                    // Gera as iniciais para o avatar
                    const initials = aluno.nome.substring(0, 2).toUpperCase();

                    // Adiciona o HTML do card ao container da lista (append)
                    listaDiv.innerHTML += `
                        <div class="aluno-card">
                            <div class="avatar">${initials}</div>
                            <div class="info">
                                <h3>${aluno.nome}</h3>
                                <p>${aluno.cpf} ‚Ä¢ ${aluno.idade} anos</p>
                            </div>
                            <span class="badge">#${aluno.ID}</span>
                        </div>
                    `;
                });

            } catch (error) {
                // Tratamento de erro de conex√£o (ex: servidor desligado)
                listaDiv.innerHTML = `<p style="text-align: center; color: #ff6b6b; margin-top:2rem;">Erro de conex√£o com API.<br>Verifique se o servidor Go est√° rodando.</p>`;
            }
        }

        // EVENTO DE CADASTRO: Intercepta o envio do formul√°rio para salvar via AJAX
        document.getElementById('form-aluno').addEventListener('submit', async (e) => {
            e.preventDefault(); // Impede o recarregamento padr√£o da p√°gina (submit tradicional)

            // Limpa formata√ß√£o (pontos e tra√ßos) do CPF e RG para enviar apenas n√∫meros limpos ao backend
            const rawCPF = cpfInput.value.replace(/\D/g, '');
            const rawRG = rgInput.value.replace(/\D/g, '');

            // Valida√ß√£o simples de tamanho do CPF no frontend
            if (rawCPF.length !== 11) return alert("CPF Inv√°lido (requer 11 n√∫meros)");

            // Monta o objeto com os dados do novo aluno para enviar
            const aluno = {
                nome: document.getElementById('nome').value, // Pega valor do nome
                cpf: rawCPF, // Usa o CPF limpo
                rg: rawRG,   // Usa o RG limpo
                idade: parseInt(document.getElementById('idade').value), // Converte idade para Inteiro
                sexo: document.getElementById('sexo').value // Pega valor do sexo
            };

            try {
                // Envia requisi√ß√£o POST para a API criar o aluno
                const res = await fetch(API_URL, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' }, // Define cabe√ßalho JSON
                    body: JSON.stringify(aluno) // Converte objeto JS para string JSON
                });

                // Verifica se o cadastro foi bem-sucedido (Status 2xx)
                if (res.ok) {
                    // Feedback visual de sucesso: altera temporariamente o texto e cor do bot√£o
                    const btn = document.querySelector('.btn-main'); // Seleciona o bot√£o
                    const originalText = btn.innerText; // Guarda o texto original

                    btn.innerText = "Sucesso! üéâ"; // Muda o texto
                    btn.style.background = "linear-gradient(135deg, #11998e, #38ef7d)"; // Muda cor para verde

                    document.getElementById('form-aluno').reset(); // Limpa o formul√°rio
                    listarAlunos(); // Atualiza a lista lateral para mostrar o novo aluno

                    // Restaura o bot√£o ao estado original ap√≥s 2 segundos
                    setTimeout(() => {
                        btn.innerText = originalText;
                        btn.style.background = ""; // Remove estilo inline para voltar ao CSS
                    }, 2000);
                } else {
                    // Alerta gen√©rico se a API retornar erro (ex: 400 ou 500)
                    alert("Erro ao salvar. Verifique o console.");
                }
            } catch (err) {
                // Captura erro de rede
                alert("Erro de conex√£o.");
            }
        });

        // Inicializa a lista de alunos assim que a p√°gina carrega
        listarAlunos();

    </script>
</body>

</html>